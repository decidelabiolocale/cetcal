/**
 *
 */
class CETGeoLoc {  

  constructor() {
  } 

  init(map, icon_ici, init_zoom_factor) {

    if (navigator.geolocation) {

      navigator.geolocation.getCurrentPosition(function(position) {
        var latLng = [];
        latLng.push(position.coords.latitude);
        latLng.push(position.coords.longitude);
        var marker = L.marker([latLng[0], latLng[1]], {icon: icon_ici}).addTo(map).setZIndexOffset(-10000);
        
        map.flyTo(latLng, init_zoom_factor, {
          animate: true,
          duration: 1.5
        });

      }, function(error) {

        switch(error.code) {
          case error.PERMISSION_DENIED:
            console.log("User denied the request for Geolocation.");
            break;
          case error.POSITION_UNAVAILABLE:
            console.log("Location information is unavailable.");
            break;
          case error.TIMEOUT:
            console.log("The request to get user location timed out.");
            break;
          case error.UNKNOWN_ERROR:
            console.log("An unknown error occurred.");
            break;
        }
        
      });

    } else {
      console.log('Geolocation is not supported by your browser.');
    }
  }

}